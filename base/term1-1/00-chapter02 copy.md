# ç’°å¢ƒæ§‹ç¯‰ãƒ»åˆå‹•ã‚µãƒ³ãƒ—ãƒ«å‹•ä½œ

![9d2c38e6fe48e61528f6b2d34370768f](https://i.gyazo.com/9d2c38e6fe48e61528f6b2d34370768f.png)

## ã“ã®ç« ã§å­¦ã¶ã“ã¨

ç’°å¢ƒæ§‹ç¯‰ã‚„åˆå‹•ã®ã‚µãƒ³ãƒ—ãƒ«å‹•ä½œã‚’è¡Œã„ã¾ã™ã€‚

## ç’°å¢ƒæ§‹ç¯‰

ä»Šå›äº‹å‰æº–å‚™ã—ãŸ Unity ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã—ã¤ã¤ã€ç’°å¢ƒæ§‹ç¯‰ã‚’ã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚

![a22ec4c95524c34562414d6efe01f566](https://i.gyazo.com/a22ec4c95524c34562414d6efe01f566.png)

Unity Hub ã‚’èµ·å‹•ã—ã¦ã€New Project ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

![ddf49ef780c60063791bf3aabc75d45a](https://i.gyazo.com/ddf49ef780c60063791bf3aabc75d45a.png)

Core > 3D ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚å³ã‚¨ãƒªã‚¢ã« PROJECT SETTING ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

![bc6e6c44a26e7040b70255bedbf9048d](https://i.gyazo.com/bc6e6c44a26e7040b70255bedbf9048d.png)

Project name ã¯ `Unity-Network-Sample-01` ã§ Location ã¯ã€è‡ªåˆ†ã®æ™®æ®µã®ä½œæ¥­ãƒ•ã‚©ãƒ«ãƒ€ã§è¡Œã„ã¾ã™ã€‚

ä½œæ¥­ãƒ•ã‚©ãƒ«ãƒ€ã®ãŠã™ã™ã‚
- C ãƒ‰ãƒ©ã‚¤ãƒ–ç›´ä¸‹ã«ã€ä»Šå›ã®æˆæ¥­å vantan_unity_network ã§ä½œã‚‹ã€‚
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚©ãƒ«ãƒ€ã«è‡ªåˆ†ã®åˆ†ã‹ã‚Šã‚„ã™ã„ãƒ•ã‚©ãƒ«ãƒ€ã§ä½œã‚‹
- C ãƒ‰ãƒ©ã‚¤ãƒ–ç›´ä¸‹ã«è‡ªåˆ†ã®åˆ†ã‹ã‚Šã‚„ã™ã„ãƒ•ã‚©ãƒ«ãƒ€ã§ä½œã‚‹

ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç›´ä¸‹ã¯ã€ä»–ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚æ··ã–ã£ã¦ã—ã¾ã„æ··ä¹±ã—ã‚„ã™ã„ã®ã§é¿ã‘ã¾ã—ã‚‡ã†ã€‚

![195a89c3cb80a9c037b080f96fb8ae7e](https://i.gyazo.com/195a89c3cb80a9c037b080f96fb8ae7e.png)

Project name ã¨ Location ã‚’è¨­å®šã—ãŸã‚‰ã€Create project ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

![8693cc6b6be3c66765c28a159a0d5e4a](https://i.gyazo.com/8693cc6b6be3c66765c28a159a0d5e4a.png)

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆãŒå§‹ã¾ã‚Šã¾ã™ã€‚

![b7ca8c2686c7f01a7d87fa04a4208499](https://i.gyazo.com/b7ca8c2686c7f01a7d87fa04a4208499.png)

è©²å½“ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã® Unity ãŒé–‹ãã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒæº–å‚™ã•ã‚Œã¾ã™ã€‚

![77b30f4a9da6debd2f94b28c769a5a12](https://i.gyazo.com/77b30f4a9da6debd2f94b28c769a5a12.png)

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒé–‹ãã¾ã™ã€‚ã‚‚ã— Build Setting ãŒé–‹ã„ã¦ã„ãŸã‚‰é–‰ã˜ã¾ã—ã‚‡ã†ã€‚

![c35f9a277dc4ca526b241ccf02b88d68](https://i.gyazo.com/c35f9a277dc4ca526b241ccf02b88d68.png)

ã“ã‚Œã§æº–å‚™å®Œäº†ã§ã™ã€‚

## åˆå‹•ã®ã‚µãƒ³ãƒ—ãƒ«å‹•ä½œ

![c35f9a277dc4ca526b241ccf02b88d68](https://i.gyazo.com/c35f9a277dc4ca526b241ccf02b88d68.png)

ã¨ã„ã†ã“ã¨ã§ã€ã“ã“ã‹ã‚‰ã‚µãƒ³ãƒ—ãƒ«ã‚’ä½œæˆã—ã¦ã„ãã¾ã™ã€‚

### Build Setting ç¢ºèª

![1ef230a444b6d94461cc88d14923fb58](https://i.gyazo.com/1ef230a444b6d94461cc88d14923fb58.png)

ãƒ¡ãƒ‹ãƒ¥ãƒ¼ > File > Build Setting ã§ Build Setting ã‚’é–‹ãã¾ã™ã€‚

![c7a4e4da91fc04a649033e6cd165b0b7](https://i.gyazo.com/c7a4e4da91fc04a649033e6cd165b0b7.png)

Platform ãŒ PC ã«ãªã£ã¦ã„ã‚Œã° OK ã§ã™ã€‚

## Cube é…ç½®

![9d5f314021661da71ed0128f9da22755](https://i.gyazo.com/9d5f314021661da71ed0128f9da22755.png)

Hierarcy ã®ï¼‹ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ 3D Object > Cube ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ Cube ã‚’é…ç½®ã—ã¾ã™ã€‚

## EventSystem é…ç½®

![791062a03a48c41fe156ffddc9f6282c](https://i.gyazo.com/791062a03a48c41fe156ffddc9f6282c.png)

Hierarcy ã®ï¼‹ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ UI > EventSystem ã§ EventSystem ã‚’é…ç½®ã—ã¾ã™ã€‚

## Hierarcy ç¢ºèª

![e62df939e056f9b2a4c126fa49f6d4be](https://i.gyazo.com/e62df939e056f9b2a4c126fa49f6d4be.png)

ã“ã®ã‚ˆã†ãª Hierarcy ã«ãªã‚Šã¾ã™ã€‚

## Main Camera ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¿½åŠ 

![c190ea2def5824d7c2cd1cad1f342853](https://i.gyazo.com/c190ea2def5824d7c2cd1cad1f342853.png)

Hierarcy ã§ Main Camera ã‚’é¸æŠã—ã¦ Main Camera ã® Inspector ã‚’è¦‹ã¾ã™ã€‚Add Component ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

![73874f01b22f9d05427935db4551b8e3](https://i.gyazo.com/73874f01b22f9d05427935db4551b8e3.png)

ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ¤œç´¢ã§ Physics Raycaster ã‚’é¸æŠã—ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åŠ ãˆã¾ã™ã€‚

## Assets ã« Scripts ãƒ•ã‚©ãƒ«ãƒ€ä½œæˆ

![5d2428e4b832594b8232198419793c2a](https://i.gyazo.com/5d2428e4b832594b8232198419793c2a.png)

Project ã‚¿ãƒ–ã§ Assets ã‚’é¸æŠã—ã¦ã€å³ã‚¯ãƒªãƒƒã‚¯ã‹ã‚‰ Create > Folder ã‚’é¸æŠã—ã¦ Scripts ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã—ã¾ã™ã€‚Scenes ãƒ•ã‚©ãƒ«ãƒ€ã¨åŒã˜éšå±¤ã§ã™ã€‚

## CubeEvent ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

![ac26279a81eb874c750bc60bfb4dd9f8](https://i.gyazo.com/ac26279a81eb874c750bc60bfb4dd9f8.png)

Scripts ãƒ•ã‚©ãƒ«ãƒ€ã®ä¸­ã«ç§»å‹•ã—ã¦ã€å³ã‚¯ãƒªãƒƒã‚¯ã‹ã‚‰ Create > C# Script ã§é¸æŠã—ã¦ CubeEvent ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚

## CubeEvent ã‚¹ã‚¯ãƒªãƒ—ãƒˆæ›¸ãæ›ãˆ

CubeEvent ã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚¨ãƒ‡ã‚£ã‚¿ã§é–‹ãã¾ã™ã€‚ã™ã¹ã¦é¸æŠã—ã¦ã€ä»¥ä¸‹ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã«æ›¸ãæ›ãˆã¾ã™ã€‚

```csharp
using UnityEngine;
using UnityEngine.EventSystems;

public class CubeEvent : MonoBehaviour, IPointerClickHandler
{
    public void OnPointerClick(PointerEventData eventData)
    {
        // ãƒã‚¦ã‚¹ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
        Debug.Log($"ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ {this.name} ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã‚ˆï¼");
    }
}
```

æ›¸ãæ›ãˆãŸã‚‰ä¿å­˜ã—ã¾ã—ã‚‡ã†ã€‚

## Cube ã« CubeEvent ã‚¹ã‚¯ãƒªãƒ—ãƒˆå‰²ã‚Šå½“ã¦

![e37d75b91a946c35519711c87422d6d7](https://i.gyazo.com/e37d75b91a946c35519711c87422d6d7.png)

Hierarcy ã§ Cube ã‚’é¸æŠã—ã¦ Cube ã® Inspector ã‚’è¦‹ã¾ã™ã€‚Add Component ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

![2ae59cc631d5e1ea352717468369e5a3](https://i.gyazo.com/2ae59cc631d5e1ea352717468369e5a3.png)

ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ¤œç´¢ã§ CubeEvent ã‚’é¸æŠã—ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’åŠ ãˆã¾ã™ã€‚

## ã‚·ãƒ¼ãƒ³ä¿å­˜

![172edf11c047e3cb48db6b6b131b7f40](https://i.gyazo.com/172edf11c047e3cb48db6b6b131b7f40.png)

ã‚·ãƒ¼ãƒ³ã‚’ã„ã£ãŸã‚“ä¿å­˜ã—ã¾ã—ã‚‡ã†ã€‚

## å‹•ä½œç¢ºèª

![2fbea7338e0832c54e0b977c39f5dedd](https://i.gyazo.com/2fbea7338e0832c54e0b977c39f5dedd.png)

Play ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

![6044c7e49cf4a9d7af2d62b94476d854](https://i.gyazo.com/6044c7e49cf4a9d7af2d62b94476d854.png)

Cube ã‚’ãƒã‚¦ã‚¹ã§ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

![cfe7587c4bb92695695695e3a2f291d4](https://i.gyazo.com/cfe7587c4bb92695695695e3a2f291d4.png)

Console ã§ã“ã®ã‚ˆã†ãªãƒ­ã‚°ãŒå‡ºã¦ãã‚Œã°æˆåŠŸã§ã™ï¼ã¾ãšã¯ãƒã‚¦ã‚¹ã‚¯ãƒªãƒƒã‚¯ãŒå‹•ãã¾ã—ãŸã€‚

## ã“ã‚Œã‹ã‚‰ã¤ãªã httpbin ã®ç´¹ä»‹

HTTP ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æ¤œè¨¼ã™ã‚‹ Web ã‚µãƒ¼ãƒ“ã‚¹ https://httpbin.org/ ã«ã¤ãªã„ã§ã¿ã¾ã—ã‚‡ã†ã€‚

ä»¥ä¸‹ã‚’è§£èª¬ã—ã¾ã™ã€‚

ğŸ“å‚è€ƒè³‡æ–™
- APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆé–‹ç™ºæ™‚ã®ãƒ¢ãƒƒã‚¯ã«ä½¿ãˆã‚‹httpbinã®ç´¹ä»‹ - Qiita
  - https://qiita.com/sameyasu/items/adacceb8a1bee893599b

ã¨ã„ã†ã“ã¨ã§ã€

https://httpbin.org/get

ã“ã¡ã‚‰ã‚’ Chrome ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

![878fe812221dac9b78ac04b5cdae7826](https://i.gyazo.com/878fe812221dac9b78ac04b5cdae7826.png)

ã“ã®ã‚ˆã†ã«ã€ã„ã¾ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸãƒªã‚¯ã‚¨ã‚¹ãƒˆã®æƒ…å ±ã‚’ã€ãã®ã¾ã¾è¿”ç­”ã—ã¦ãã‚Œã¾ã™ã€‚

## CubeEvent ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å¤‰æ›´

httpbin ã«ã¤ãªãŒã‚‹ã‚ˆã†ã« CubeEvent ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å¤‰æ›´ã—ã¾ã™ã€‚

![98e2cb7164051090871269761d450dd1](https://i.gyazo.com/98e2cb7164051090871269761d450dd1.png)

Project ã‹ã‚‰ Assets > Scripts ã‚’é¸æŠã—ã¦ CubeEvent ã‚’ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ã‚¨ãƒ‡ã‚£ã‚¿ã§é–‹ãã¾ã™ã€‚ï¼ˆã•ãã»ã©ã®ä½œæ¥­ã®ã¾ã¾ã§ã‚ã‚Œã°æ—¢ã«é–‹ã„ã¦ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ï¼‰

ã™ã¹ã¦é¸æŠã—ã¦ã€ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã§ä¸Šæ›¸ãã—ã¾ã™ã€‚

```csharp
using UnityEngine;
using UnityEngine.EventSystems;

using System.Collections;  // IEnumerator ã®ãŸã‚
using UnityEngine.Networking;  // UnityWebRequest ã®ãŸã‚

public class CubeEvent : MonoBehaviour, IPointerClickHandler
{
    public void OnPointerClick(PointerEventData eventData)
    {

        Debug.Log($"ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ {this.name} ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã‚ˆï¼");

        // éåŒæœŸå‡¦ç†ã§ã¡ã‚ƒã‚“ã¨å¾…ã¤ãŸã‚ã‚³ãƒ«ãƒ¼ãƒãƒ³ã§å‘¼ã³å‡ºã™
        StartCoroutine("GetHttpBin");
    }

    // httpbin ã« GET ãƒªã‚¯ã‚¨ã‚¹ãƒˆã™ã‚‹æœ¬ä½“
    IEnumerator GetHttpBin()
    {
        // httpbin ã« GET ãƒªã‚¯ã‚¨ã‚¹ãƒˆã™ã‚‹ UnityWebRequest è¨­å®š
        UnityWebRequest request = UnityWebRequest.Get("https://httpbin.org/get");

        // ãƒªã‚¯ã‚¨ã‚¹ãƒˆé–‹å§‹
        yield return request.SendWebRequest();

        // çµæœã«ã‚ˆã£ã¦åˆ†å²
        switch (request.result)
        {
            case UnityWebRequest.Result.InProgress:
                Debug.Log("ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¸­");
                break;

            case UnityWebRequest.Result.Success:
                Debug.Log("ãƒªã‚¯ã‚¨ã‚¹ãƒˆæˆåŠŸ");

                // ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«è¡¨ç¤º
                Debug.Log($"responseData: {request.downloadHandler.text}");

                break;
        }


    }
}
```

âœ…ãƒã‚¤ãƒ³ãƒˆ
- `using System.Collections;` ã¯ IEnumerator ã‚’ä½¿ã†ãŸã‚ã®å‘¼ã³å‡ºã—ã§ã™
- `using UnityEngine.Networking;` ã¯ UnityWebRequest ã‚’ä½¿ã†ãŸã‚ã®å‘¼ã³å‡ºã—ã§ã™
- HTTP ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯èª­ã¿è¾¼ã¿ã‚’å¾…ã¤éåŒæœŸå‡¦ç†ãªã®ã§ã€ã¡ã‚ƒã‚“ã¨å¾…ã¤ãŸã‚ã‚³ãƒ«ãƒ¼ãƒãƒ³ã§å‘¼ã³å‡ºã—ã¾ã™
- `Debug.Log($"responseData: {request.downloadHandler.text}");` ãŒã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ãƒ­ã‚°ã‚’è¡¨ç¤ºã—ã¾ã™

ä¿å­˜ã—ãŸã‚‰ Unity Editor ã«æˆ»ã‚Šã¾ã™ã€‚

![2fbea7338e0832c54e0b977c39f5dedd](https://i.gyazo.com/2fbea7338e0832c54e0b977c39f5dedd.png)

Play ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚

![6044c7e49cf4a9d7af2d62b94476d854](https://i.gyazo.com/6044c7e49cf4a9d7af2d62b94476d854.png)

Cube ã‚’ãƒã‚¦ã‚¹ã§ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

![ad938e5ba66dc8681b984cad95b3e916](https://i.gyazo.com/ad938e5ba66dc8681b984cad95b3e916.png)

Console ã«ã“ã®ã‚ˆã†ãªãƒ­ã‚°ãŒå‡ºã¦ãã‚Œã°æˆåŠŸã§ã™ï¼

## ãƒ‡ãƒ¼ã‚¿ã®è©³ç´°ã‚’ Console ã§ãƒã‚§ãƒƒã‚¯

Console ã§ã€ `responseData: {` ã§ã€ã¯ã˜ã¾ã‚‹ãƒ­ã‚°ãŒã€ä»Šå›ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆå—ã‘å–ã£ãŸãƒ‡ãƒ¼ã‚¿ï¼‰ã§ã™ã€‚

![f3d89046e6d8d770472ea0de14a6a976](https://i.gyazo.com/f3d89046e6d8d770472ea0de14a6a976.png)

`responseData: {` ã®ãƒ­ã‚°ã‚’ã€ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã¿ã¾ã™ã€‚

![72c041b4fa01417b1837a4cf14197043](https://i.gyazo.com/72c041b4fa01417b1837a4cf14197043.png)

ã“ã®ã‚ˆã†ã«ã€ãƒ‡ãƒ¼ã‚¿ã®å†…å®¹ã‚’è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

âœ…ãƒã‚¤ãƒ³ãƒˆ
- `Debug.Log($"responseData: {request.downloadHandler.text}");` ã§ãƒ­ã‚°ã‚’è¡¨ç¤ºã—ã¦ã„ã‚‹æµã‚Œã‚’æŠŠæ¡ã—ã‚ˆã†
- User-Agent ã¯ã€é€šå¸¸ãƒ–ãƒ©ã‚¦ã‚¶ã®æƒ…å ±ãŒå‡ºã¦ãã‚‹ã¨ã“ã‚ãŒã€ä»Šå›ã® Unity Player ã®å ´åˆã‚’ç¢ºèªã—ã‚ˆã†
- ä½™è£•ãŒã‚ã‚Œã° `https://httpbin.org/get` ã«ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ value1 value2 ã‚’åŠ ãˆãŸ `https://httpbin.org/get?value1=1&value2=2` ã¨ã—ã¦ã¿ã¦ arg å€¤ã«åæ˜ ã•ã‚Œã‚‹ã“ã¨ã‚‚ç¢ºèªã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚
- ã“ã†ã„ã£ãŸå—ã‘å–ã£ãŸãƒ‡ãƒ¼ã‚¿ã®å†…å®¹ã‚’ Console ã§ç¢ºèªã™ã‚‹ã“ã¨ã¯ã€å¤–éƒ¨ã®ãƒ‡ãƒ¼ã‚¿é€£æºæ™‚ã«ã¯å¤§åˆ‡ãªã®ã§ã€èº«ã«ã¤ã‘ã¦ã„ãã¾ã—ã‚‡ã†ã€‚